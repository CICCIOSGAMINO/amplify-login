<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <!-- WebApp Config -->
    <title>Lite</title>
    <meta name="generator" content="lite(@cicciosgamino)">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">
    <!-- See https://goo.gl/OOhYW5 -->
    <link rel="manifest" href="/manifest.webmanifest">
    <!-- See https://goo.gl/qRE0vM -->
    <meta name="theme-color" content="#fff">
    <meta name="color-scheme" content="dark light">

    <!-- Description -->
    <meta name="description" content="AwS-Amplify Users/Login WebApp">
    <meta name="keywords" content="AwS-Amplify Users/Login test WebApp">
    <meta name="author" content="@cicciosgamino">

    <!-- Use relative path with base and rootPath --> 
    <base href="./">

    <!-- Preload the Logo SVG -->
    <link rel="preload" as="image" href="/images/lite.svg">

    <link rel="icon" href="/images/favicon.ico">
    <link id="favicon" rel="shortcut icon" href="/images/favicon/favicon-16.png" sizes="16x16">
    <link id="favicon" rel="shortcut icon" href="/images/favicon/favicon-32.png" sizes="32x32">
    <link id="favicon" rel="shortcut icon" href="/images/favicon/favicon-64.png" sizes="64x64">
    <link id="favicon" rel="shortcut icon" href="/images/favicon/favicon-96.png" sizes="96x96">

    <!-- Add to homescreen for Chrome on Android. Fallback for manifest.json -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="AWS-Amplify Login">
    <link rel="icon" sizes="128x128" href="/images/manifest/icon128x128.png">
    <link rel="icon" sizes="192x192" href="/images/manifest/icon192x192.png">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="AWS-Amplify Login">

    <!-- Homescreen icons -->
    <link rel="apple-touch-icon" href="/images/manifest/icon-48x48.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/manifest/icon-72x72.png">
    <link rel="apple-touch-icon" sizes="96x96" href="/images/manifest/icon-96x96.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/manifest/icon-144x144.png">
    <link rel="apple-touch-icon" sizes="192x192" href="/images/manifest/icon-192x192.png">
    <!-- Display on the MAC dock -->
    <link rel="fluid-icon" type="image/png" href="/images/manifest/icon-192x192.png">
    

    <!-- Tile icon for Windows 8 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="/images/manifest/icon-144x144.png">
    <meta name="msapplication-TileColor" content="#fff">
    <meta name="msapplication-tap-highlight" content="no">

    <!-- OpenGraph Twitter / Facebook --> 
    <meta property="og:title" content="AWS-Amplify Login">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://github.com/CICCIOSGAMINO/amplify-login">
    <meta property="og:site_name" content="AWS-Amplify Login">
    <meta property="og:author" content="@cicciosgamino">
    <meta property="og:description" content="AWS-Amplify User/Login WebApp">
    <meta property="og:image" content="/images/manifest/icon-144x144.png" />

    <!-- https://developer.twitter.com/en/docs/twitter-for-websites/cards/guides/getting-started -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:author" content="@cicciosgamino">
    <meta name="twitter:site" content="@cicciosgamino">
    <meta name="twitter:description" content="AWS-Amplify User/Login WebApp">

    <!-- Resources -->
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

    <!-- Load and register pre-caching Service Worker -->
    <script>
      const baseUrl = document.querySelector('base').href;
      console.log(`@URL >> ${baseUrl}`)

      /* TODO
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register(baseUrl + 'service-worker.js', {
            scope: '/'
          });
        });
      }  */ 
      
    </script>

    <!-- Material -->
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Material+Icons&display=block" as="style" type="text/css">

    <!-- Add any global styles for body, document, etc. -->
    <link href="https://fonts.googleapis.com/css?family=Material+Icons&display=block" rel="stylesheet">
    
    <style>
      @font-face {
        font-family: 'Manrope';
        /* font-style: normal; */
        src: local('Manrope'), url('/fonts/Manrope-VariableFont_wght.ttf') format('truetype-variations');
        /* The browser draws the text immediately in the fallback font if the font
           isn't loaded, then swaps it with the webfont when it eventually loads
           See: https://developers.google.com/web/updates/2016/02/font-display
        */
        font-display: swap;
        font-weight: 1 999;
      }

      /* ----------------------------- themes --------------------------- */
      * {
        /* brand */
        --brand-hue: 200;
        --brand-saturation: 100%;
        --brand-lightness: 50%;

        /* light */
        --brand-light: hsl(
          var(--brand-hue)
          var(--brand-saturation)
          var(--brand-lightness));
        --text1-light: hsl(
          var(--brand-hue)
          var(--brand-saturation)
          10%);
        --text2-light: hsl(var(--brand-hue) 30% 15%);
        --surface1-light: hsl(var(--brand-hue) 25% 90%);
        --surface2-light: hsl(var(--brand-hue) 20% 99%);
        --surface3-light: hsl(var(--brand-hue) 20% 92%);
        --surface4-light: hsl(var(--brand-hue) 20% 85%);
        --surface-shadow-light: var(--brand-hue) 10% 20%;
        --shadow-strength-light: .02;

        /* dark */
        --brand-dark: hsl(
          var(--brand-hue) 
          calc(var(--brand-saturation) / 2)
          calc(var(--brand-lightness) / 1.5)
        );
        --text1-dark: hsl(var(--brand-hue) 15% 85%);
        --text2-dark: hsl(var(--brand-hue) 5% 65%);
        --surface1-dark: hsl(var(--brand-hue) 10% 10%);
        --surface2-dark: hsl(var(--brand-hue) 10% 15%);
        --surface3-dark: hsl(var(--brand-hue) 5%  20%);
        --surface4-dark: hsl(var(--brand-hue) 5% 25%);
        --surface-shadow-dark: var(--brand-hue) 50% 3%;
        --shadow-strength-dark: .8;

        /* dim */
        --brand-dim: hsl(
          var(--brand-hue) 
          calc(var(--brand-saturation) / 1.25)
          calc(var(--brand-lightness) / 1.25)
        );
        --text1-dim: hsl(var(--brand-hue) 15% 75%);
        --text2-dim: hsl(var(--brand-hue) 10% 61%);
        --surface1-dim: hsl(var(--brand-hue) 10% 20%);
        --surface2-dim: hsl(var(--brand-hue) 10% 25%);
        --surface3-dim: hsl(var(--brand-hue) 5%  30%);
        --surface4-dim: hsl(var(--brand-hue) 5% 35%);
        --surface-shadow-dim: var(--brand-hue) 30% 13%;
        --shadow-strength-dim: .2;

        /* material design grey scale */ 
        --md-grey-100: #F5F5F5;
        --md-grey-300: #E0E0E0;
        --md-grey-500: #959595;
        --md-grey-700: #616161;
        --md-grey-800: #2f363d;
        --md-grey-900: #212121;
      }
      :root {
        color-scheme: light;
        /* set defaults */
        --brand: var(--brand-light);
        --text1: var(--text1-light);
        --text2: var(--text2-light);
        --surface1: var(--surface1-light);
        --surface2: var(--surface2-light);
        --surface3: var(--surface3-light);
        --surface4: var(--surface4-light);
        --surface-shadow: var(--surface-shadow-light);
        --shadow-strength: var(--shadow-strength-light);
      }

      @media (prefers-color-scheme: dark) {
        :root {
          color-scheme: dark;

          --brand: var(--brand-dark);
          --text1: var(--text1-dark);
          --text2: var(--text2-dark);
          --surface1: var(--surface1-dark);
          --surface2: var(--surface2-dark);
          --surface3: var(--surface3-dark);
          --surface4: var(--surface4-dark);
          --surface-shadow: var(--surface-shadow-dark);
          --shadow-strength: var(--shadow-strength-dark);
        }
      }
      [color-scheme="light"] {
        color-scheme: light;
        --brand: var(--brand-light);
        --text1: var(--text1-light);
        --text2: var(--text2-light);
        --surface1: var(--surface1-light);
        --surface2: var(--surface2-light);
        --surface3: var(--surface3-light);
        --surface4: var(--surface4-light);
        --surface-shadow: var(--surface-shadow-light);
        --shadow-strength: var(--shadow-strength-light);
      }
      [color-scheme="dark"] {
        color-scheme: dark;
        --brand: var(--brand-dark);
        --text1: var(--text1-dark);
        --text2: var(--text2-dark);
        --surface1: var(--surface1-dark);
        --surface2: var(--surface2-dark);
        --surface3: var(--surface3-dark);
        --surface4: var(--surface4-dark);
        --surface-shadow: var(--surface-shadow-dark);
        --shadow-strength: var(--shadow-strength-dark);
      }
      [color-scheme="dim"] {
        color-scheme: dark;
        --brand: var(--brand-dim);
        --text1: var(--text1-dim);
        --text2: var(--text2-dim);
        --surface1: var(--surface1-dim);
        --surface2: var(--surface2-dim);
        --surface3: var(--surface3-dim);
        --surface4: var(--surface4-dim);
        --surface-shadow: var(--surface-shadow-dim);
        --shadow-strength: var(--shadow-strength-dim);
      }

      /* ----------------------------- main ----------------------------- */
      :root {
        --desktop-font-size: 1.6rem;
        --mobile-font-size: 2.2rem;
        
        --text-warning-color: hsl(0, 80%, 55%);
      }
      * {
        box-sizing: border-box;
        margin: 0;
      }
      html {
        /* base rem unit (10px) */
        font-size: 62.5%;
        block-size: 100%;

        /* background-color: var(--brand);
        color: var(--text1); */
        color: var(--md-grey-800);
      }
      body {
        font-family: 'Manrope', sans-serif;
        min-height: 100vh;
        -webkit-font-smoothing: antialiased;
      }

      app-lite:not([dark]) {
        /* custom vars light theme */ 

      }

      app-lite[dark] {
        /* custom vars dark theme */ 

      }

      /* styling for rendering while resources are loading  TEXT-VERSION
      app-lite[unresolved] {
        display: block;
        min-height: 101vh;
        line-height: 68px;
        text-align: center;
        font-size: 16px;
        font-weight: 600;
        letter-spacing: 0.3em;
        color: #f5f5f5;
        padding: 0 16px;
        overflow: visible;
      } */ 

      /* styling for rendering while resources are laoding   GIF-VERSION */
      app-lite[unresolved] {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('/images/lite.svg') center/340px no-repeat;
        margin-top: -120px;
      }
    </style>
  </head>
  <body>
    <app-lite unresolved title="Amplify Login"></app-lite>

    <noscript>
      <h1>Enable JavaScript</h1>
      <h3>Lite works only with JavaScript!</h3>
    </noscript>

    <script type="module" src="/src/app-lite.js" crossorigin></script>

    <!-- https://github.com/aws/aws-amplify/issues/678 fix: -->
    <script>
      if (global === undefined) {
        var global = window;
      }
    </script>
    <!-- https://github.com/aws/aws-amplify/issues/678 fix end-->

    <!-- listen for prefers-color-scheme: dark media query -->
    <script>

      // Check if dark mode is supported by browser
      if (window.matchMedia('(prefers-color-scheme)').media !== 'not all') {
        // supported
        console.log('@DARK-MODE >> Supported ðŸŽ‰')
        window.matchMedia('(prefers-color-scheme: dark)').addListener((e) => {
        const appLite = document.querySelector('app-lite')
        const darkModeOn = e.matches;
        darkModeOn ? 
          appLite.setAttribute('dark', ``) : 
          appLite.removeAttribute('dark')
        
        console.log(`Dark mode is ${darkModeOn ? 'ðŸŒ’ on' : 'â˜€ðŸŒ• off'}.`)
      })
      } else {
        console.log('@DARK-MODE >> NOT Supported â›”')
      }
    </script>

    <script>
      window.addEventListener('DOMContentLoaded', (event) => {
        // Console a Welcome message for Developers 
        console.log(
          `%c %cLite \n%cChamaeleonidae WebApp `,
          `padding: 37px 33px 15px; background:url(${baseUrl}images/manifest/icon96x96.png) no-repeat;background-size:cover;`,
          `font-size: 32px; color: #00e8ff;`,
          `padding: 10px 0px 0px 0px; font-size: 16px; color: #283198;`
        );

        document.querySelector('app-lite').removeAttribute('unresolved')
      })
    </script>

</body>
</html>